{% extends "template.html" %}

{% block meta %}
<script type="text/javascript" type="text/javascript">
  var ros = new ROSLIB.Ros({
    url : 'ws://telescopeC.local:9090'
  }); 

    ros.on('connection', function() {
     var fbDiv = document.getElementById('feedback');
     fbDiv.innerHTML += "<p>Connected to websocket server.</p>";
 });

   ros.on('error', function(error) {
    var fbDiv = document.getElementById('feedback');
    fbDiv.innerHTML += "<p>Error connecting to websocket server.</p>";
});

   ros.on('close', function() {
    var fbDiv = document.getElementById('feedback');
    fbDiv.innerHTML += "<p>Connection to websocket server closed.</p>";
 });

  
</script>

{% end %}{% block container %}


<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" href="#state">State</a></li>
  <li><a data-toggle="tab" href="#schleduler">Scheduler</a></li>
  <li><a data-toggle="tab" href="#weather">Weather</a></li>
</ul>

<div class="tab-content">
  <div id="state" class="tab-pane fade in active">
    <h3>HOME</h3>
    <div id="row">
<!-- Zacatek jednoho panelu-->
      <div>
        <p>blablabla</p>
      </div>
<!-- Konec panelu-->
    </div>



  </div><div id="schleduler" class="tab-pane fade">
    <h3>Menu 1</h3>
    <div id="row">
<!-- Zacatek jednoho panelu-->

<!-- Konec panelu-->
    </div>



  </div><div id="weather" class="tab-pane fade">
    <h3>Weather</h3>
    <div id="row" onshow="UpdateDataTable">
<!-- Zacatek jednoho panelu-->
<div class="panel panel-default" id="panel_avilable">
  <div class="panel-heading">Available devices</div>
  <div class="panel-body" id="weather_data_table">
  </div>
</div>
<!-- Konec panelu-->
    </div>



  </div>
</div>

<script>

function UpdateDataTable () {
  console.log("ahoj!!!!!!!");
  $("#weather_data_table").load("/observatory/weather/datatable");
}
</script>
<script type="text/javascript"> 
    $("#panel_avilable").click(function(){
        $("#weather_data_table").load("/observatory/weather/datatable"); 
    });
</script> 


{% end %}