<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{title}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/bootstrap.min.css" rel="stylesheet">
    <link href="dashboard.css" rel="stylesheet">
    <script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.js"></script>
    <script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.js"></script>
    <script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/core_ROS.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <style type="text/css">
    .container-fluid{
        padding-top: 2em;
    }

    </style>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript">
      var ros = new ROSLIB.Ros({
          url : 'ws://'+window.location.hostname+':9090'
          //url : 'ws://192.168.1.111:9090'
      }); 

      ros.on('connection', function() {
           var fbDiv = document.getElementById('feedback');
           fbDiv.innerHTML += "<p>Connected to websocket server.</p>";
      });

      ros.on('error', function(error) {
          var fbDiv = document.getElementById('feedback');
          fbDiv.innerHTML += "<p>Error connecting to websocket server.</p>";
      });

      ros.on('close', function() {
          var fbDiv = document.getElementById('feedback');
          fbDiv.innerHTML += "<p>Connection to websocket server closed.</p>";
      });

      var MountControl = new ROSLIB.Topic({
          ros : ros,
          name : '/arom/mount',
          messageType : 'arom/DriverControlm'    // tohle se zjisti v ''rostopic info ''
      });

      var MountMessage = new ROSLIB.Message({   //rosmsg show arom/DriverControlm
          name : "",
          type : "",
          data : "",
          validate : "",
          check : ""
      });
      var nodes = []
      
      ros.getNodes(function(params) {
          var i = 0;
          var len = params.length;
          for (; i < len; i++) { 
            if (params[i].indexOf("AROM") > -1){
              nodes.push(params[i]);
            }
          }
          console.log(nodes);
       });
      console.log(nodes);

      $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });

    </script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/bootstrap-responsive.css" rel="stylesheet">

    {% block meta %}{% end %}
  </head>
  <body >


    <!-- horni panel
    ================================================== -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                <a class="navbar-brand" href="/">{{title}}</a>

              <ul id="navbar" class="nav navbar-nav pull-right nav-collapse">
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
              </ul>
            </div>


            </div>
        </div>
    </div>







    <div class="container-fluid">

        <!-- menu
        ================================================== -->
 
        <div class="row-fluid">
            <div class="span2 bs-docs-sidebar">
                <div class="panel panel-default">
                  <div class="panel-body">
                <ul class="nav nav-pills nav-stacked">
                    {% for menu_item in leftmenu %}
                        <li {% if menu_item[1] == actual %}class="active"{% end %} ><a href="{{menu_item[1]}}">{{menu_item[0]}}</a></li>
                    {% end %}
                    <li class="nav-divider"></li>
                    <li><a href="javascript:;"><i class="glyphicon glyphicon-off"></i> Sign in</a></li>
                </ul>
                </div>
                </div>
            </div>
            <div class="span8">
                <div class="row" style="margin: 0px">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row" style="margin: 0px;">
                                {% block container %}{% end %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


   
    <script src="/bootstrap.min.js" type="text/html"></script>
  </body>
</html>
