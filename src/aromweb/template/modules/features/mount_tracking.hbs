
<div class="col-xs-12 col-sm-6 col-md-5 col-lg-5 col-xl-4">
<div class="card">
    <div class="card-header primary-color white-text">
        Mount tracking<br> 
    </div>
    <div class="card-block"> 

        <div class="tab-content">
            
              <div class="form-group row">
                <label for="axA">Ra</label>
                <input class="form-control" type="number" value="0" min="-60000" max="60000" id="AxA">
                <input class="form-control" type="range" value="0" min="-60000" max="60000" step="0.001" id="AxA_range">
              </div>

              <div class="form-group row">
                <label for="axB">Dec</label>
                <input class="form-control" type="number" value="90" min="-60000" max="60000" id="AxB">
                <input class="form-control" type="range" value="90" min="-60000" max="60000" step="0.001" id="AxB_range">
              </div>         

        </div>
        <hr>
        <div class="btn-group">
          <button type="button" class="btn btn-primary" onclick="setTracking('spd')">Nastavit</button>
          <button type="button" class="btn btn-danger" onclick="setTracking('stopTracking')">Stop</button>
          <!-- <button type="button" class="btn btn-danger" onclick="setTracking('stopTracking')">Vypnout OoO</button>
          <button type="button" class="btn btn-success" onclick="setTracking('stopTracking')">Výchozí rychlost OoO</button> -->
        </div>
    </div>
</div>
</div>

<script type="text/javascript">

    function setTracking(mode) {

      var sendCtrl = new ROSLIB.Topic({
        ros : ros,
        name : '/mount/controll',
        messageType : 'std_msgs/String'
      });

      switch (mode) {
          case 'spd':
              var msg = new ROSLIB.Message({
                data: mode+" "+document.getElementById("AxA_range").value+" "+document.getElementById("AxB_range").value
              });
              break;
          case 'startTracking':
              var msg = new ROSLIB.Message({
                data: mode
              });
              break;
          case 'stopTracking':
              var msg = new ROSLIB.Message({
                data: 'spd 0 0'
              });
              break;
      }

      console.log(msg);
      sendCtrl.publish(msg);

      delete sendCtrl;
      delete msg;
    }

    $("#AxA_range").change(function(){
        $("#AxA").val($("#AxA_range").val());
    });

    $("#AxA").keyup(function(){
        $("#AxA_range").val($("#AxA").val());
    });

    $("#AxB_range").change(function(){
        $("#AxB").val($("#AxB_range").val());
    });

    $("#AxB").keyup(function(){
        $("#AxB_range").val($("#AxB").val());
    });
  
  

</script>

